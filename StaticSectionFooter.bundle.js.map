{"version":3,"sources":["webpack:///./source/scripts/Layout.js","webpack:///./source/scripts/helpers/Quantity.js","webpack:///./source/scripts/Forms.js","webpack:///./source/scripts/Accordion.js","webpack:///./source/scripts/sections/StaticSectionFooter.js"],"names":["eventHandlers","previousBreakpoint","getBreakpoint","window","getComputedStyle","document","documentElement","getPropertyValue","replace","$","on","event","currentBreakpoint","forEach","eventHandler","previous","current","isBreakpoint","breakpoint","onBreakpointChange","indexOf","push","offBreakpointChange","index","splice","Quantity","el","$el","$inputParent","find","$input","$selectParent","$select","_watchSelect","bind","_watchInput","off","baseValue","parseInt","currentTarget","value","isNaN","_validateValue","val","trigger","removeClass","addClass","focus","removeAttr","select","attr","Forms","selector","filledClass","fieldSelector","quantityItems","$quantityWrapper","_toggleFilled","_checkFilled","length","each","i","quantityItem","unload","hasClass","target","$target","isFilled","is","toggleClass","e","Accordion","options","extend","activeClass","autoCollapse","content","eligibleClass","$block","open","closeOpen","_open","_close","block","StaticSectionFooter","section","forms","layoutHandler","layout","_bindEvents","preventDefault","_toggleAccordion","parent","toggle","breakpoints","openAll"],"mappings":"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","file":"StaticSectionFooter.bundle.js","sourcesContent":["import $ from 'jquery';\n\nconst eventHandlers = [];\nlet previousBreakpoint = null;\n\nfunction getBreakpoint() {\n  return window\n    .getComputedStyle(document.documentElement, ':after')\n    .getPropertyValue('content')\n    .replace(/\"/g, '');\n}\n\n$(window).on('resize', event => {\n  const currentBreakpoint = getBreakpoint();\n\n  if (previousBreakpoint !== currentBreakpoint) {\n    eventHandlers.forEach(eventHandler => {\n      eventHandler(event, {\n        previous: previousBreakpoint,\n        current: currentBreakpoint,\n      });\n    });\n  }\n\n  previousBreakpoint = currentBreakpoint;\n});\n\nfunction isBreakpoint(breakpoint) {\n  return getBreakpoint() === breakpoint;\n}\n\nfunction onBreakpointChange(eventHandler) {\n  if (eventHandlers.indexOf(eventHandler) === -1) {\n    eventHandlers.push(eventHandler);\n  }\n}\n\nfunction offBreakpointChange(eventHandler) {\n  const index = eventHandlers.indexOf(eventHandler);\n\n  if (index !== -1) {\n    eventHandlers.splice(index, 1);\n  }\n}\n\nexport default {\n  isBreakpoint,\n  onBreakpointChange,\n  offBreakpointChange,\n};\n","export default class Quantity {\n  constructor(el) {\n    this.$el = $(el);\n    this.$inputParent = this.$el.find('.form-field--qty-input');\n    this.$input = this.$el.find('[data-quantity-input]');\n    this.$selectParent = this.$el.find('.form-field--qty-select');\n    this.$select = this.$el.find('[data-quantity-select]');\n\n    this._watchSelect = this._watchSelect.bind(this);\n    this._watchInput = this._watchInput.bind(this);\n\n    this.$select.on('change.quantity', this._watchSelect);\n    this.$input.on('change.quantity', this._watchInput);\n  }\n\n  unload() {\n    this.$el.off('.quantity');\n  }\n\n  _validateValue(event) {\n    const baseValue = parseInt(event.currentTarget.value, 10);\n\n    return isNaN(baseValue) ? 1 : baseValue;\n  }\n\n  _watchSelect(event) {\n    const value = this._validateValue(event);\n\n    // Update input to match select\n    this.$input.val(value).trigger('change');\n\n    // Switch to quantity input when 10 or more\n    if (value >= 10) {\n      this.$inputParent\n        .removeClass('hidden')\n        .addClass('visible');\n\n      this.$input\n        .focus()\n        .removeAttr('tabindex')\n        .select();\n\n      this.$selectParent\n        .removeClass('visible')\n        .addClass('hidden');\n\n      this.$select.attr('tabindex', '-1');\n    }\n  }\n\n  _watchInput(event) {\n    this.$input.val(this._validateValue(event));\n  }\n}\n","import $ from 'jquery';\nimport Quantity from './helpers/Quantity';\n\nexport default class Forms {\n  constructor($el, selector = '.form-field-input') {\n    this.$el = $el;\n    this.filledClass = 'form-field-filled';\n    this.fieldSelector = selector;\n\n    this.quantityItems = [];\n    this.$quantityWrapper = this.$el.find('[data-quantity-wrapper]');\n\n    this._toggleFilled = this._toggleFilled.bind(this);\n    this.$el.on('focus.forms', this.fieldSelector, this._toggleFilled);\n    this.$el.on('blur.forms', this.fieldSelector, this._toggleFilled);\n\n    this._checkFilled();\n\n    if (this.$quantityWrapper.length) {\n      this.$quantityWrapper.each((i, el) => {\n        this.quantityItems.push(\n          new Quantity(el),\n        );\n      });\n    }\n  }\n\n  unload() {\n    this.$el.off('.forms');\n\n    this.quantityItems.forEach(quantityItem => {\n      quantityItem.unload();\n    });\n  }\n\n  _checkFilled() {\n    this.$el.find(this.fieldSelector).each((i, el) => {\n      if ($(el).hasClass(this.filledClass)) return;\n\n      this._toggleFilled(null, el);\n    });\n  }\n\n  _toggleFilled(event = null, el = false) {\n    const target = event ? event.currentTarget : el;\n    const $target = $(target);\n    const { value } = target;\n\n    let isFilled = value.length > 0;\n\n    try {\n      isFilled = isFilled || $target.is(':-webkit-autofill');\n      $target.toggleClass(this.filledClass, isFilled);\n    } catch (e) {\n      $target.toggleClass(this.filledClass, isFilled);\n    }\n  }\n}\n","import $ from 'jquery';\n\nexport default class Accordion {\n  constructor($el, options = {}) {\n    this.$el = $el;\n\n    this.options = $.extend({}, {\n      activeClass: 'accordion--active',\n      autoCollapse: false,\n      content: '[data-accordion-content]',\n      eligibleClass: 'has-accordion',\n    }, options);\n  }\n\n  toggle($block, open = false) {\n    if (open || !$block.hasClass(this.options.activeClass)) {\n      if (this.options.autoCollapse) this.closeOpen();\n      this._open($block);\n    } else {\n      this._close($block);\n    }\n  }\n\n  closeOpen() {\n    $(this.$el.find(`.${this.options.activeClass}`)).each((i, block) => {\n      const $block = $(block);\n      if ($block.hasClass(this.options.activeClass)) {\n        this._close($block);\n      }\n    });\n  }\n\n  openAll() {\n    $(this.$el.find(`.${this.options.eligibleClass}`)).each((i, block) => {\n      this._open($(block), 0);\n    });\n  }\n\n  _open($block) {\n    $block.addClass(this.options.activeClass);\n  }\n\n  _close($block) {\n    $block.removeClass(this.options.activeClass);\n  }\n}\n","import $ from 'jquery';\n\nimport Accordion from '../Accordion';\nimport Forms from '../Forms';\nimport layout from '../Layout';\n\nexport default class StaticSectionFooter {\n  constructor(section) {\n    this.$el = $(section.el);\n    this.Accordion = new Accordion(this.$el);\n\n    this.forms = new Forms(this.$el);\n\n    // Handle Accordion interaction when window size changes\n    this.layoutHandler = this.onBreakpointChange.bind(this);\n    layout.onBreakpointChange(this.layoutHandler);\n\n    this._bindEvents();\n  }\n\n  _bindEvents() {\n    this.$el.on('click.footer', '[data-accordion-trigger]', event => {\n      event.preventDefault();\n      this._toggleAccordion($(event.currentTarget).parent());\n    });\n  }\n\n  onSectionUnload() {\n    this.$el.off('.footer');\n    this.forms.unload();\n\n    delete this.Accordion;\n  }\n\n  onSectionBlockSelect(block) {\n    const $block = $(block.el);\n\n    if ($block.hasClass('has-accordion')) this._toggleAccordion($block, true);\n  }\n\n  onSectionBlockDeselect(block) {\n    const $block = $(block.el);\n\n    if ($block.hasClass('has-accordion')) this._toggleAccordion($block, false);\n  }\n\n  _toggleAccordion($block) {\n    if (layout.isBreakpoint('L')) return;\n\n    this.Accordion.toggle($block);\n  }\n\n  onBreakpointChange(event, breakpoints) {\n    if (layout.isBreakpoint('L')) {\n      this.Accordion.openAll();\n    } else if (breakpoints.previous === 'L' && !layout.isBreakpoint('L')) {\n      this.Accordion.closeOpen();\n    }\n  }\n}\n"],"sourceRoot":""}