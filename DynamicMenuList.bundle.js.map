{"version":3,"sources":["webpack:///./source/scripts/Layout.js","webpack:///./source/scripts/Accordion.js","webpack:///./source/scripts/sections/DynamicMenuList.js"],"names":["eventHandlers","previousBreakpoint","getBreakpoint","window","getComputedStyle","document","documentElement","getPropertyValue","replace","$","on","event","currentBreakpoint","forEach","eventHandler","previous","current","isBreakpoint","breakpoint","onBreakpointChange","indexOf","push","offBreakpointChange","index","splice","Accordion","$el","options","extend","activeClass","autoCollapse","content","eligibleClass","$block","open","hasClass","closeOpen","_open","_close","find","each","i","block","addClass","removeClass","DynamicMenuList","section","el","context","data","layoutHandler","bind","layout","_bindEvents","preventDefault","_toggleAccordion","currentTarget","parent","_toggleList","off","toggle","$trigger","$items","siblings","siblingsVisible","toggleClass","text","see_less","see_more","breakpoints","openAll"],"mappings":"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","file":"DynamicMenuList.bundle.js","sourcesContent":["import $ from 'jquery';\n\nconst eventHandlers = [];\nlet previousBreakpoint = null;\n\nfunction getBreakpoint() {\n  return window\n    .getComputedStyle(document.documentElement, ':after')\n    .getPropertyValue('content')\n    .replace(/\"/g, '');\n}\n\n$(window).on('resize', event => {\n  const currentBreakpoint = getBreakpoint();\n\n  if (previousBreakpoint !== currentBreakpoint) {\n    eventHandlers.forEach(eventHandler => {\n      eventHandler(event, {\n        previous: previousBreakpoint,\n        current: currentBreakpoint,\n      });\n    });\n  }\n\n  previousBreakpoint = currentBreakpoint;\n});\n\nfunction isBreakpoint(breakpoint) {\n  return getBreakpoint() === breakpoint;\n}\n\nfunction onBreakpointChange(eventHandler) {\n  if (eventHandlers.indexOf(eventHandler) === -1) {\n    eventHandlers.push(eventHandler);\n  }\n}\n\nfunction offBreakpointChange(eventHandler) {\n  const index = eventHandlers.indexOf(eventHandler);\n\n  if (index !== -1) {\n    eventHandlers.splice(index, 1);\n  }\n}\n\nexport default {\n  isBreakpoint,\n  onBreakpointChange,\n  offBreakpointChange,\n};\n","import $ from 'jquery';\n\nexport default class Accordion {\n  constructor($el, options = {}) {\n    this.$el = $el;\n\n    this.options = $.extend({}, {\n      activeClass: 'accordion--active',\n      autoCollapse: false,\n      content: '[data-accordion-content]',\n      eligibleClass: 'has-accordion',\n    }, options);\n  }\n\n  toggle($block, open = false) {\n    if (open || !$block.hasClass(this.options.activeClass)) {\n      if (this.options.autoCollapse) this.closeOpen();\n      this._open($block);\n    } else {\n      this._close($block);\n    }\n  }\n\n  closeOpen() {\n    $(this.$el.find(`.${this.options.activeClass}`)).each((i, block) => {\n      const $block = $(block);\n      if ($block.hasClass(this.options.activeClass)) {\n        this._close($block);\n      }\n    });\n  }\n\n  openAll() {\n    $(this.$el.find(`.${this.options.eligibleClass}`)).each((i, block) => {\n      this._open($(block), 0);\n    });\n  }\n\n  _open($block) {\n    $block.addClass(this.options.activeClass);\n  }\n\n  _close($block) {\n    $block.removeClass(this.options.activeClass);\n  }\n}\n","import $ from 'jquery';\n\nimport Accordion from '../Accordion';\nimport layout from '../Layout';\n\nexport default class DynamicMenuList {\n  constructor(section) {\n    this.$el = $(section.el);\n    this.context = section.data.context;\n    this.Accordion = new Accordion(this.$el);\n\n    // Handle Accordion interaction when window size changes\n    this.layoutHandler = this.onBreakpointChange.bind(this);\n    layout.onBreakpointChange(this.layoutHandler);\n\n    this._bindEvents();\n  }\n\n  _bindEvents() {\n    this.$el.on('click.menu-list', '[data-accordion-trigger]', event => {\n      event.preventDefault();\n      this._toggleAccordion($(event.currentTarget).parent());\n    });\n\n    this.$el.on('click.menu-list', '[data-menulist-toggle]', event => {\n      event.preventDefault();\n      this._toggleList(event.currentTarget);\n    });\n  }\n\n  onSectionUnload() {\n    this.$el.off('.menu-list');\n\n    delete this.Accordion;\n  }\n\n  onSectionBlockSelect(block) {\n    this._toggleAccordion($(block.el), true);\n  }\n\n  onSectionBlockDeselect(block) {\n    this._toggleAccordion($(block.el), false);\n  }\n\n  _toggleAccordion($block) {\n    if (layout.isBreakpoint('L')) return;\n\n    this.Accordion.toggle($block);\n  }\n\n  _toggleList(el) {\n    const $trigger = $(el);\n    const $items = $trigger.parent().siblings('[data-hidden-default]');\n    const siblingsVisible = $trigger.data('menulist-toggle');\n\n    $items.toggleClass('menulist--menu-item-hidden', siblingsVisible);\n    $trigger\n      .data('menulist-toggle', !siblingsVisible)\n      .text(!siblingsVisible ? this.context.see_less : this.context.see_more);\n  }\n\n  onBreakpointChange(event, breakpoints) {\n    if (layout.isBreakpoint('L')) {\n      this.Accordion.openAll();\n    } else if (breakpoints.previous === 'L' && !layout.isBreakpoint('L')) {\n      this.Accordion.closeOpen();\n    }\n  }\n}\n"],"sourceRoot":""}