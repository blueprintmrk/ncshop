{"version":3,"sources":["webpack:///./source/scripts/components/search/SearchForm.js","webpack:///./source/scripts/sections/StaticSearch.js"],"names":["SearchForm","$container","options","$body","$","$form","find","isLiveSearch","liveSearch","submitHandler","bind","events","on","forEach","$el","off","event","preventDefault","currentTarget","clone","$terms","css","position","left","bottom","visibility","terms","val","indexOf","split","join","trim","append","submit","StaticSearch","section","el","$searchField","productItems","$productItems","each","i","productItem","push","ProductGridItem","id","_updatePrices","searchForm","unload","index","CurrencyConverter","update"],"mappings":"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","file":"StaticSearch.bundle.js","sourcesContent":["import $ from 'jquery';\n\nexport default class SearchForm {\n  constructor($container, options = {}) {\n    this.$body = $('body');\n    this.$container = $container;\n    this.$form = this.$container.find('[data-live-search-form]');\n    this.isLiveSearch = options.liveSearch ? options.liveSearch : false;\n\n    this.submitHandler = this.submitHandler.bind(this);\n\n    this.events = [\n      this.$form.on('submit.search-form', this.submitHandler),\n    ];\n  }\n\n  unload() {\n    this.events.forEach($el => $el.off('.search-form'));\n  }\n\n  submitHandler(event) {\n    event.preventDefault();\n\n    const $form = $(event.currentTarget).clone();\n    const $terms = $form.find('[name=q]');\n\n    $form.css({\n      position: 'absolute',\n      left: -1000,\n      bottom: -1000,\n      visibility: 'hidden',\n    });\n\n    let terms = $terms.val();\n\n    if (this.isLiveSearch && !terms) {\n      return;\n    }\n\n    // Adds `*` after each word in search terms, doesn't add to last word\n    if (terms.indexOf(' ') > 0) {\n      terms = terms.split(' ').join('* ').trim();\n    }\n\n    // Adds `*` at the end of the search terms\n    terms = `${terms}*`;\n\n    // Update value\n    $terms.val(terms);\n\n    // Forms must be in the browser context in order to submit\n    this.$body.append($form);\n    $form.submit();\n  }\n}\n","import $ from 'jquery';\nimport CurrencyConverter from 'shopify-currency-converter';\n\nimport ProductGridItem from '../components/ProductGridItem';\nimport SearchForm from '../components/search/SearchForm';\n\nexport default class StaticSearch {\n  constructor(section) {\n    this.section = section;\n    this.$el = $(section.el);\n    this.$searchField = this.$el.find('[data-live-search]');\n\n    // Product items\n    this.productItems = [];\n    const $productItems = this.$el.find('[data-product-item]');\n\n    $productItems.each((i, productItem) => {\n      this.productItems.push(\n        new ProductGridItem({\n          el: productItem,\n          id: this.section.id,\n        }),\n      );\n    });\n\n    this._updatePrices();\n    this.searchForm = new SearchForm(this.$searchField);\n  }\n\n  onSectionUnload() {\n    this.searchForm.unload();\n\n    this.productItems.forEach(productItem => {\n      productItem.unload();\n    });\n  }\n\n  _updatePrices() {\n    this.$el.find('.money').each((index, el) => CurrencyConverter.update(el));\n  }\n}\n"],"sourceRoot":""}