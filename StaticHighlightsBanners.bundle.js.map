{"version":3,"sources":["webpack:///./source/scripts/Layout.js","webpack:///./node_modules/just-debounce/index.js","webpack:///./source/scripts/sections/StaticHighlightsBanners.js"],"names":["eventHandlers","previousBreakpoint","getBreakpoint","window","getComputedStyle","document","documentElement","getPropertyValue","replace","$","on","event","currentBreakpoint","forEach","eventHandler","previous","current","isBreakpoint","breakpoint","onBreakpointChange","indexOf","push","offBreakpointChange","index","splice","StaticHighlightsBanners","section","$el","el","$window","$carousel","find","slides","flickity","flickityOptions","length","_initSlider","autoPlay","accessibility","cellAlign","cellSelector","pageDots","prevNextButtons","contain","_bindFlickity","_destroyFlickity","off","layout","Flickity","debounce","destroy"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAEA,IAAMA,aAAa,GAAG,EAAtB;AACA,IAAIC,kBAAkB,GAAG,IAAzB;;AAEA,SAASC,aAAT,GAAyB;AACvB,SAAOC,MAAM,CACVC,gBADI,CACaC,QAAQ,CAACC,eADtB,EACuC,QADvC,EAEJC,gBAFI,CAEa,SAFb,EAGJC,OAHI,CAGI,IAHJ,EAGU,EAHV,CAAP;AAID;;AAEDC,6CAAC,CAACN,MAAD,CAAD,CAAUO,EAAV,CAAa,QAAb,EAAuB,UAAAC,KAAK,EAAI;AAC9B,MAAMC,iBAAiB,GAAGV,aAAa,EAAvC;;AAEA,MAAID,kBAAkB,KAAKW,iBAA3B,EAA8C;AAC5CZ,iBAAa,CAACa,OAAd,CAAsB,UAAAC,YAAY,EAAI;AACpCA,kBAAY,CAACH,KAAD,EAAQ;AAClBI,gBAAQ,EAAEd,kBADQ;AAElBe,eAAO,EAAEJ;AAFS,OAAR,CAAZ;AAID,KALD;AAMD;;AAEDX,oBAAkB,GAAGW,iBAArB;AACD,CAbD;;AAeA,SAASK,YAAT,CAAsBC,UAAtB,EAAkC;AAChC,SAAOhB,aAAa,OAAOgB,UAA3B;AACD;;AAED,SAASC,kBAAT,CAA4BL,YAA5B,EAA0C;AACxC,MAAId,aAAa,CAACoB,OAAd,CAAsBN,YAAtB,MAAwC,CAAC,CAA7C,EAAgD;AAC9Cd,iBAAa,CAACqB,IAAd,CAAmBP,YAAnB;AACD;AACF;;AAED,SAASQ,mBAAT,CAA6BR,YAA7B,EAA2C;AACzC,MAAMS,KAAK,GAAGvB,aAAa,CAACoB,OAAd,CAAsBN,YAAtB,CAAd;;AAEA,MAAIS,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChBvB,iBAAa,CAACwB,MAAd,CAAqBD,KAArB,EAA4B,CAA5B;AACD;AACF;;AAEc;AACbN,cAAY,EAAZA,YADa;AAEbE,oBAAkB,EAAlBA,kBAFa;AAGbG,qBAAmB,EAAnBA;AAHa,CAAf,E;;;;;;;AC7CA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACjCA;AACA;AACA;AACA;;IAEqBG,uB;;;AACnB,mCAAYC,OAAZ,EAAqB;AAAA;;AACnB,SAAKC,GAAL,GAAWlB,6CAAC,CAACiB,OAAO,CAACE,EAAT,CAAZ;AACA,SAAKC,OAAL,GAAepB,6CAAC,CAACN,MAAD,CAAhB;AAEA,SAAK2B,SAAL,GAAiB,KAAKH,GAAL,CAASI,IAAT,CAAc,qBAAd,CAAjB;AACA,SAAKC,MAAL,GAAc,2BAAd;AAEA,SAAKC,QAAL,GAAgB,IAAhB;AACA,SAAKC,eAAL,GAAuB,IAAvB;;AAEA,QAAI,KAAKJ,SAAL,CAAeC,IAAf,CAAoB,KAAKC,MAAzB,EAAiCG,MAAjC,GAA0C,CAA9C,EAAiD;AAC/C,WAAKC,WAAL;AACD;AACF;;;;kCAEa;AACZ,WAAKF,eAAL,GAAuB;AACrBG,gBAAQ,EAAE,CADW;AAErBC,qBAAa,EAAE,IAFM;AAGrBC,iBAAS,EAAE,MAHU;AAIrBC,oBAAY,EAAE,KAAKR,MAJE;AAKrBS,gBAAQ,EAAE,KALW;AAMrBC,uBAAe,EAAE,KANI;AAOrBC,eAAO,EAAE;AAPY,OAAvB;;AAUA,WAAKC,aAAL;AACD;;;sCAEiB;AAChB,WAAKC,gBAAL;;AACA,WAAKhB,OAAL,CAAaiB,GAAb,CAAiB,UAAjB;AACD;;;oCAEe;AAAA;;AACd,UAAIC,uDAAM,CAAC9B,YAAP,CAAoB,GAApB,MAA6B,KAA7B,IAAsC,KAAKgB,QAAL,KAAkB,IAA5D,EAAkE;AAChE,aAAKA,QAAL,GAAgB,IAAIe,+CAAJ,CAAa,KAAKlB,SAAL,CAAe,CAAf,CAAb,EAAgC,KAAKI,eAArC,CAAhB;AACD;;AAED,WAAKL,OAAL,CAAanB,EAAb,CAAgB,QAAhB,EAA0BuC,oDAAQ,CAAC,YAAM;AACvC,YAAIF,uDAAM,CAAC9B,YAAP,CAAoB,GAApB,MAA6B,KAA7B,IAAsC,KAAI,CAACgB,QAAL,KAAkB,IAA5D,EAAkE;AAChE,eAAI,CAACW,aAAL;AACD,SAFD,MAEO,IAAIG,uDAAM,CAAC9B,YAAP,CAAoB,GAApB,KAA4B,KAAI,CAACgB,QAArC,EAA+C;AACpD,eAAI,CAACY,gBAAL;AACD;AACF,OANiC,CAAlC;AAOD;;;uCAEkB;AACjB,UAAI,CAAC,KAAKZ,QAAV,EAAoB;AAClB;AACD;;AAED,WAAKA,QAAL,CAAciB,OAAd;AACA,WAAKjB,QAAL,GAAgB,IAAhB;AACD","file":"StaticHighlightsBanners.bundle.js","sourcesContent":["import $ from 'jquery';\n\nconst eventHandlers = [];\nlet previousBreakpoint = null;\n\nfunction getBreakpoint() {\n  return window\n    .getComputedStyle(document.documentElement, ':after')\n    .getPropertyValue('content')\n    .replace(/\"/g, '');\n}\n\n$(window).on('resize', event => {\n  const currentBreakpoint = getBreakpoint();\n\n  if (previousBreakpoint !== currentBreakpoint) {\n    eventHandlers.forEach(eventHandler => {\n      eventHandler(event, {\n        previous: previousBreakpoint,\n        current: currentBreakpoint,\n      });\n    });\n  }\n\n  previousBreakpoint = currentBreakpoint;\n});\n\nfunction isBreakpoint(breakpoint) {\n  return getBreakpoint() === breakpoint;\n}\n\nfunction onBreakpointChange(eventHandler) {\n  if (eventHandlers.indexOf(eventHandler) === -1) {\n    eventHandlers.push(eventHandler);\n  }\n}\n\nfunction offBreakpointChange(eventHandler) {\n  const index = eventHandlers.indexOf(eventHandler);\n\n  if (index !== -1) {\n    eventHandlers.splice(index, 1);\n  }\n}\n\nexport default {\n  isBreakpoint,\n  onBreakpointChange,\n  offBreakpointChange,\n};\n","module.exports = debounce\n\nfunction debounce (fn, delay, at_start, guarantee) {\n  var timeout\n  var args\n  var self\n\n  return function debounced () {\n    self = this\n    args = Array.prototype.slice.call(arguments)\n\n    if (timeout && (at_start || guarantee)) {\n      return\n    } else if (!at_start) {\n      clear()\n\n      timeout = setTimeout(run, delay)\n      return timeout\n    }\n\n    timeout = setTimeout(clear, delay)\n    fn.apply(self, args)\n\n    function run () {\n      clear()\n      fn.apply(self, args)\n    }\n\n    function clear () {\n      clearTimeout(timeout)\n      timeout = null\n    }\n  }\n}\n","import $ from 'jquery';\nimport debounce from 'just-debounce';\nimport Flickity from 'flickity';\nimport layout from '../Layout';\n\nexport default class StaticHighlightsBanners {\n  constructor(section) {\n    this.$el = $(section.el);\n    this.$window = $(window);\n\n    this.$carousel = this.$el.find('.highlights-banners');\n    this.slides = '.highlights-banners-block';\n\n    this.flickity = null;\n    this.flickityOptions = null;\n\n    if (this.$carousel.find(this.slides).length > 1) {\n      this._initSlider();\n    }\n  }\n\n  _initSlider() {\n    this.flickityOptions = {\n      autoPlay: 0,\n      accessibility: true,\n      cellAlign: 'left',\n      cellSelector: this.slides,\n      pageDots: false,\n      prevNextButtons: false,\n      contain: true,\n    };\n\n    this._bindFlickity();\n  }\n\n  onSectionUnload() {\n    this._destroyFlickity();\n    this.$window.off('.twitter');\n  }\n\n  _bindFlickity() {\n    if (layout.isBreakpoint('L') === false && this.flickity === null) {\n      this.flickity = new Flickity(this.$carousel[0], this.flickityOptions);\n    }\n\n    this.$window.on('resize', debounce(() => {\n      if (layout.isBreakpoint('L') === false && this.flickity === null) {\n        this._bindFlickity();\n      } else if (layout.isBreakpoint('L') && this.flickity) {\n        this._destroyFlickity();\n      }\n    }));\n  }\n\n  _destroyFlickity() {\n    if (!this.flickity) {\n      return;\n    }\n\n    this.flickity.destroy();\n    this.flickity = null;\n  }\n}\n"],"sourceRoot":""}