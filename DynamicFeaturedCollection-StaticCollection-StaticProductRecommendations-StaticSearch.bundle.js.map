{"version":3,"sources":["webpack:///./node_modules/just-debounce/index.js","webpack:///./node_modules/shopify-asyncview/dist/index.es.js","webpack:///./source/scripts/components/Modal.js","webpack:///./source/scripts/components/ProductQuickshop.js","webpack:///./source/scripts/components/ProductGridItem.js","webpack:///./node_modules/vanilla-modal/dist/index.js","webpack:///./source/scripts/helpers/ProductReviews.js"],"names":["Modal","callbacks","$body","$","document","body","$window","window","modal","$modal","$modalInner","find","trigger","defaultCallbacks","onOpen","onClose","onBeforeOpen","onBeforeClose","extend","finishedLoading","bind","_onOpen","_onBeforeOpen","_onClose","_onBeforeClose","_closeEsc","position","modalOptions","loadClass","class","transitions","isOpen","destroy","selector","handle","_addModalClass","VanillaModal","open","addEventListener","closeEsc","close","removeEventListener","trapFocus","e","key","windowHeight","innerHeight","modalHeight","outerHeight","modalPadding","parseInt","css","offset","marginTop","addClass","modalClass","attr","match","removeClass","_removeModalClass","off","removeTrapFocus","activeElement","focus","on","debounce","ProductQuickshop","options","$el","id","quickShopSelector","$quickShop","quickshopSpinner","querySelector","loaded","richText","productDetails","openingAddToCart","url","data","settingsSha256","productSha256","modalCallbacks","_open","_close","atcCallbacks","onInit","_onATCInit","onError","_onATCError","onSuccess","_onATCSuccess","_onATCClose","_initialize","$quickShopModalContent","AsyncView","load","hash","done","html","content","initShopifyProductReviews","each","index","el","CurrencyConverter","update","Shopify","PaymentButton","init","$message","$formArea","$gallery","$details","$description","context","settings","product","_onQuickshopLoaded","fail","length","RichText","useHistory","isQuickshop","ProductDetails","unload","empty","_toggleMessage","message","isVisible","toggleClass","error","$content","ProductGridItem","productQuickshop","quickBuySettings","events","actionsOpen","$html","$actions","hasProductActions","_addToCart","_actionsToggle","_openQuickShop","_setSortByQueryParameters","hasClass","queryParams","grid_list","push","$script","_initQuickBuy","_objectFitPolyfill","location","search","i","aCouples","substr","split","aKeyValue","decodeURIComponent","JSON","parse","text","console","warn","event","preventDefault","currentTarget","hasAttribute","documentElement","style","_isObjectFitAvailable","$figure","featuredSrc","alternateSrc","height","actionsHeight","heightBase","heightExpanded","layout","isBreakpoint","$currentTarget","$target","target","openProductItem","productHasFocus","is","parents","first","type","_showActions","_hideActions","_getHeights","revealer","one","$atcButton","variantID","formData","name","value","moneyFormat","money_format","cartRedirection","cart_redirection","AddToCartFlyout","forEach","SPR","registerCallbacks","initRatingHandler","initDomEls","loadProducts","loadBadges"],"mappings":";;;;;AAAA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AChCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,WAAW;AACX,2BAA2B,kBAAkB;AAC7C;AACA;AACA;;AAEA;AACA;AACA,0DAA0D,uCAAuC;AACjG,aAAa;AACb;AACA;AACA;;AAEA;AACA,oCAAoC,uCAAuC;AAC3E,SAAS;AACT;AACA;AACA;AACA;;AAEA,OAAO;;AAEP;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAEc,kEAAS,EAAC;;;;;;;;;;;;;;;;;;;;;;;ACrIzB;AACA;AACA;AACA;;IAKqBA,K;;;AACnB,mBAA4B;AAAA,QAAhBC,SAAgB,uEAAJ,EAAI;;AAAA;;AAC1B,SAAKC,KAAL,GAAaC,6CAAC,CAACC,QAAQ,CAACC,IAAV,CAAd;AACA,SAAKC,OAAL,GAAeH,6CAAC,CAACI,MAAD,CAAhB;AAEA,SAAKC,KAAL,GAAa,IAAb;AACA,SAAKC,MAAL,GAAcN,6CAAC,CAAC,wBAAD,CAAf;AACA,SAAKO,WAAL,GAAmB,KAAKD,MAAL,CAAYE,IAAZ,CAAiB,oBAAjB,CAAnB;AAEA,SAAKC,OAAL,GAAe,IAAf,CAR0B,CAU1B;;AACA,SAAKC,gBAAL,GAAwB;AACtBC,YAAM,EAAE,kBAAM,CAAE,CADM;AAEtBC,aAAO,EAAE,mBAAM,CAAE,CAFK;AAGtBC,kBAAY,EAAE,wBAAM,CAAE,CAHA;AAItBC,mBAAa,EAAE,yBAAM,CAAE;AAJD,KAAxB;AAOA,SAAKhB,SAAL,GAAiBE,6CAAC,CAACe,MAAF,CAAS,EAAT,EAAa,KAAKL,gBAAlB,EAAoCZ,SAApC,CAAjB;AAEA,SAAKkB,eAAL,GAAuB,KAAKA,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAAvB;AAEA,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaD,IAAb,CAAkB,IAAlB,CAAf;AACA,SAAKE,aAAL,GAAqB,KAAKA,aAAL,CAAmBF,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKG,QAAL,GAAgB,KAAKA,QAAL,CAAcH,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKI,cAAL,GAAsB,KAAKA,cAAL,CAAoBJ,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKK,SAAL,GAAiB,KAAKA,SAAL,CAAeL,IAAf,CAAoB,IAApB,CAAjB;AAEA,SAAKM,QAAL,GAAgB,KAAKA,QAAL,CAAcN,IAAd,CAAmB,IAAnB,CAAhB;AAEA,SAAKO,YAAL,GAAoB;AAClBC,eAAS,EAAE,EADO;AAElBC,WAAK,EAAE,cAFW;AAGlBf,YAAM,EAAE,KAAKO,OAHK;AAIlBN,aAAO,EAAE,KAAKQ,QAJI;AAKlBP,kBAAY,EAAE,KAAKM,aALD;AAMlBL,mBAAa,EAAE,KAAKO,cANF;AAOlBM,iBAAW,EAAE;AAPK,KAApB;AASD;;;;6BAEQ;AACP,UAAI,CAAC,KAAKtB,KAAN,IAAe,CAAC,KAAKA,KAAL,CAAWuB,MAA/B,EAAuC;AAEvC,WAAKvB,KAAL,CAAWwB,OAAX;AACD;AAED;;;;;;;;;yBAMKC,Q,EAA8C;AAAA,UAApCC,MAAoC,uEAA3B,SAA2B;AAAA,UAAhBtB,OAAgB,uEAAN,IAAM;;AACjD,WAAKuB,cAAL,CAAoBD,MAApB;;AACA,WAAK1B,KAAL,GAAa,IAAI4B,oDAAJ,CAAiB,KAAKT,YAAtB,CAAb;AACA,WAAKnB,KAAL,CAAW6B,IAAX,CAAgBJ,QAAhB;AACA,WAAKrB,OAAL,GAAeA,OAAf;AACAL,YAAM,CAAC+B,gBAAP,CAAwB,SAAxB,EAAmC,KAAKC,QAAxC;AACD;;;4BAEO;AACN,WAAK/B,KAAL,CAAWgC,KAAX;AACAjC,YAAM,CAACkC,mBAAP,CAA2B,SAA3B,EAAsC,KAAKF,QAA3C;AACD;;;sCAEiB;AAChBG,mFAAS,CAAC,KAAKjC,MAAL,CAAY,CAAZ,CAAD,CAAT;AACD;;;8BAESkC,C,EAAG;AACX,UAAIA,CAAC,CAACC,GAAF,KAAU,QAAd,EAAwB;AACtB,aAAKJ,KAAL;AACD;AACF;;;6BAEQ;AACP,aAAO,KAAKhC,KAAL,IAAc,KAAKA,KAAL,CAAWuB,MAAhC;AACD;AAED;;;;;;+BAGW;AACT,UAAMc,YAAY,GAAGtC,MAAM,CAACuC,WAA5B;AAEA,UAAMC,WAAW,GAAG,KAAKrC,WAAL,CAAiBsC,WAAjB,EAApB;AACA,UAAMC,YAAY,GAAGC,QAAQ,CAAC,KAAKzC,MAAL,CAAY0C,GAAZ,CAAgB,aAAhB,CAAD,EAAiC,EAAjC,CAAR,GAA+C,CAApE;AAEA,UAAMC,MAAM,GAAG,CAACP,YAAY,GAAGI,YAAf,GAA8BF,WAA/B,IAA8C,CAA7D;AACA,UAAMM,SAAS,GAAGD,MAAM,GAAG,CAAT,GAAaA,MAAb,GAAsB,CAAxC;AACA,WAAK1C,WAAL,CAAiByC,GAAjB,CAAqB;AAAEE,iBAAS,EAATA;AAAF,OAArB;AACD;AAED;;;;;;;;mCAKenB,M,EAAQ;AACrB,WAAKzB,MAAL,CAAY6C,QAAZ,kBAA+BpB,MAA/B;AACD;AAED;;;;;;;wCAIoB;AAClB,UAAMqB,UAAU,GAAG,KAAK9C,MAAL,CAAY+C,IAAZ,CAAiB,OAAjB,EAA0BC,KAA1B,CAAgC,iBAAhC,CAAnB;;AACA,UAAI,CAACF,UAAL,EAAiB;AACf;AACD;;AAED,WAAK9C,MAAL,CAAYiD,WAAZ,CAAwBH,UAAU,CAAC,CAAD,CAAlC;AACD;;;+BAEU;AACT,WAAKI,iBAAL;;AACA,WAAKzD,KAAL,CACGwD,WADH,CACe,aADf,EAEGA,WAFH,CAEe,eAFf;AAIA,WAAKpD,OAAL,CAAasD,GAAb,CAAiB,cAAjB;AAEA,WAAKlD,WAAL,CAAiByC,GAAjB,CAAqB;AAAEE,iBAAS,EAAE;AAAb,OAArB;AAEA,WAAKpD,SAAL,CAAec,OAAf;AAEA8C,yFAAe,CAAC,KAAKpD,MAAL,CAAY,CAAZ,CAAD,CAAf;;AAEA,UAAI,KAAKqD,aAAT,EAAwB;AACtB,aAAKA,aAAL,CAAmBC,KAAnB;AACD;AACF;;;8BAES;AAAA;;AACR,WAAKD,aAAL,GAAqB1D,QAAQ,CAAC0D,aAA9B;AACA,WAAKpC,QAAL;AACA,WAAKxB,KAAL,CACGoD,QADH,CACY,aADZ,EAEGA,QAFH,CAEY,eAFZ;AAGA,WAAKhD,OAAL,CAAa0D,EAAb,CAAgB,cAAhB,EAAgCC,oDAAQ,CAAC;AAAA,eAAM,KAAI,CAACvC,QAAL,EAAN;AAAA,OAAD,EAAwB,EAAxB,EAA4B,IAA5B,EAAkC,IAAlC,CAAxC;AAEA,WAAKzB,SAAL,CAAea,MAAf;AAEA4B,mFAAS,CAAC,KAAKjC,MAAL,CAAY,CAAZ,CAAD,CAAT;AACD;;;qCAEgB;AACf,WAAKR,SAAL,CAAegB,aAAf;AACD;;;oCAEe;AACd,WAAKhB,SAAL,CAAee,YAAf;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnKH;AACA;AACA;AAEA;AACA;AACA;AACA;;IAEqBkD,iC;;;AACnB,4BAAYC,OAAZ,EAAqB;AAAA;;AACnB,SAAKC,GAAL,GAAWD,OAAO,CAACC,GAAnB;AACA,SAAKC,EAAL,GAAUF,OAAO,CAACE,EAAlB;AACA,SAAKC,iBAAL,8BAA6C,KAAKD,EAAlD;AACA,SAAKE,UAAL,GAAkBpE,gBAAC,CAAC,KAAKmE,iBAAN,CAAnB;AACA,SAAKE,gBAAL,GAAwB,KAAKD,UAAL,CAAgB,CAAhB,EAAmBE,aAAnB,CAAiC,oBAAjC,CAAxB;AACA,SAAKlB,UAAL,GAAkBY,OAAO,CAACZ,UAA1B;AACA,SAAKmB,MAAL,GAAc,KAAd;AACA,SAAKC,QAAL,GAAgB,IAAhB;AACA,SAAKC,cAAL,GAAsB,IAAtB;AACA,SAAKhE,OAAL,GAAeuD,OAAO,CAACvD,OAAvB;AACA,SAAKmB,MAAL,GAAc,KAAd;AACA,SAAK8C,gBAAL,GAAwB,KAAxB;AAEA,SAAKC,GAAL,GAAW,KAAKV,GAAL,CAASW,IAAT,CAAc,uBAAd,CAAX;AACA,SAAKC,cAAL,GAAsB,KAAKZ,GAAL,CAASW,IAAT,CAAc,2BAAd,CAAtB;AACA,SAAKE,aAAL,GAAqB,KAAKb,GAAL,CAASW,IAAT,CAAc,0BAAd,CAArB;AAEA,SAAKG,cAAL,GAAsB;AACpBpE,YAAM,EAAE,KAAKqE,KAAL,CAAW/D,IAAX,CAAgB,IAAhB,CADY;AAEpBL,aAAO,EAAE,KAAKqE,MAAL,CAAYhE,IAAZ,CAAiB,IAAjB;AAFW,KAAtB;AAKA,SAAKiE,YAAL,GAAoB;AAClBC,YAAM,EAAE,KAAKC,UAAL,CAAgBnE,IAAhB,CAAqB,IAArB,CADU;AAElBoE,aAAO,EAAE,KAAKC,WAAL,CAAiBrE,IAAjB,CAAsB,IAAtB,CAFS;AAGlBsE,eAAS,EAAE,KAAKC,aAAL,CAAmBvE,IAAnB,CAAwB,IAAxB,CAHO;AAIlBL,aAAO,EAAE,KAAK6E,WAAL,CAAiBxE,IAAjB,CAAsB,IAAtB;AAJS,KAApB;;AAOA,SAAKyE,WAAL;AACD;;;;kCAEa;AAAA;;AACZ,WAAKrF,KAAL,GAAa,IAAIR,wBAAJ,CAAU,KAAKkF,cAAf,CAAb;AACA,WAAK1E,KAAL,CAAW6B,IAAX,CACE,KAAKiC,iBADP,EAEE,KAAKf,UAFP,EAGE,KAAK3C,OAHP;AAKA,WAAKmB,MAAL,GAAc,IAAd;AAEA,UAAM+D,sBAAsB,GAAG,KAAKtF,KAAL,CAAWE,WAAX,CAAuBC,IAAvB,CAA4B,sBAA5B,CAA/B;AAEAoF,iCAAS,CAACC,IAAV,CACE,KAAKlB,GADP,EAEE,YAFF,EAGE;AAAEmB,YAAI,YAAK,KAAKhB,aAAV,SAA0B,KAAKD,cAA/B;AAAN,OAHF,EAIEkB,IAJF,CAIO,gBAAuB;AAAA,YAApBC,IAAoB,QAApBA,IAAoB;AAAA,YAAdhC,OAAc,QAAdA,OAAc;;AAC5B;AACA,YAAI,CAAC,KAAI,CAACpC,MAAV,EAAkB;AAAE;AAAS;;AAE7B+D,8BAAsB,CAACK,IAAvB,CAA4BA,IAAI,CAACC,OAAjC;AAEAC,mEAAyB;AAEzBP,8BAAsB,CACnBnF,IADH,CACQ,QADR,EAEG2F,IAFH,CAEQ,UAACC,KAAD,EAAQC,EAAR;AAAA,iBAAeC,cAAiB,CAACC,MAAlB,CAAyBF,EAAzB,CAAf;AAAA,SAFR;;AAIA,YAAIjG,MAAM,CAACoG,OAAP,IAAkBA,OAAO,CAACC,aAA9B,EAA6C;AAC3CD,iBAAO,CAACC,aAAR,CAAsBC,IAAtB;AACD;;AAED,aAAI,CAACC,QAAL,GAAgBhB,sBAAsB,CAACnF,IAAvB,CAA4B,kCAA5B,CAAhB;AACA,aAAI,CAACoG,SAAL,GAAiBjB,sBAAsB,CAACnF,IAAvB,CAA4B,0BAA5B,CAAjB;AACA,aAAI,CAACqG,QAAL,GAAgBlB,sBAAsB,CAACnF,IAAvB,CAA4B,wBAA5B,CAAhB;AACA,aAAI,CAACsG,QAAL,GAAgBnB,sBAAsB,CAACnF,IAAvB,CAA4B,wBAA5B,CAAhB;AACA,aAAI,CAACuG,YAAL,GAAoBpB,sBAAsB,CAACnF,IAAvB,CAA4B,4BAA5B,CAApB;AACA,aAAI,CAACwG,OAAL,GAAehD,OAAO,CAACgD,OAAvB;AACA,aAAI,CAACC,QAAL,GAAgBjD,OAAO,CAACiD,QAAxB;AACA,aAAI,CAACC,OAAL,GAAelD,OAAO,CAACkD,OAAvB;;AAEA,aAAI,CAACC,kBAAL;AACD,OA9BD,EA8BGC,IA9BH;AA+BD;;;yCAEoB;AACnB,UAAI,KAAK7C,MAAT,EAAiB;AACf;AACD;;AAED,UAAI,KAAKwC,YAAL,IAAqB,KAAKA,YAAL,CAAkBM,MAA3C,EAAmD;AACjD,aAAK7C,QAAL,GAAgB,IAAI8C,2BAAJ,CAAa,KAAKP,YAAlB,CAAhB;AACD;;AAED,UAAM/C,OAAO,GAAG;AACd4C,iBAAS,EAAE,KAAKA,SADF;AAEdC,gBAAQ,EAAE,KAAKA,QAFD;AAGdC,gBAAQ,EAAE,KAAKA,QAHD;AAId5B,oBAAY,EAAE,KAAKA,YAJL;AAKd8B,eAAO,EAAE,KAAKA,OALA;AAMdC,gBAAQ,EAAE,KAAKA,QAND;AAOdC,eAAO,EAAE,KAAKA,OAPA;AAQdK,kBAAU,EAAE,KARE;AASdC,mBAAW,EAAE;AATC,OAAhB;AAYA,WAAKnH,KAAL,CAAWkB,QAAX;AACA,WAAKlB,KAAL,CAAWW,eAAX;AACA,WAAKuD,MAAL,GAAc,IAAd;AACA,WAAKE,cAAL,GAAsB,IAAIgD,iCAAJ,CAAmBzD,OAAnB,CAAtB;AACD;;;4BAEO,CACN;AACD;;;6BAEQ;AACP,UAAI,KAAKS,cAAT,EAAyB;AACvB,aAAKA,cAAL,CAAoBiD,MAApB;AACD;;AAED,UAAI,KAAKlD,QAAT,EAAmB;AACjB,aAAKA,QAAL,CAAckD,MAAd;AACD;;AAED,UAAI,CAAC,KAAKhD,gBAAV,EAA4B;AAC1B,aAAKjE,OAAL,CAAamD,KAAb;AACD;;AAED,WAAKW,MAAL,GAAc,KAAd;AACA,WAAK3C,MAAL,GAAc,KAAd;AACA,WAAKwC,UAAL,CAAgBuD,KAAhB;AACA,WAAKvD,UAAL,CAAgB4B,IAAhB,CAAqB,KAAK3B,gBAA1B;;AACA,WAAKuD,cAAL,CAAoB,EAApB,EAAwB,KAAxB;;AACA,WAAKvH,KAAL,CAAWqH,MAAX;AACD;;;mCAEcG,O,EAASC,S,EAAW;AACjC,UAAI,KAAKnB,QAAT,EAAmB;AACjB,aAAKA,QAAL,CACGX,IADH,CACQ6B,OADR,EAEGE,WAFH,CAEe,SAFf,EAE0BD,SAF1B;AAGD;AACF;;;iCAEY;AACX,WAAKpD,gBAAL,GAAwB,IAAxB;AACA,WAAKiC,QAAL,CAAcpD,WAAd,CAA0B,SAA1B;AACD;;;gCAEWyE,K,EAAO;AACjB,UAAMC,QAAQ,GAAGjI,gBAAC,iEAAsDgI,KAAtD,YAAlB;;AACA,WAAKJ,cAAL,CAAoBK,QAApB,EAA8B,IAA9B;;AACAA,cAAQ,CAACrE,KAAT;AACD;;;oCAEe;AACd,WAAKqB,MAAL;AACD;;;kCAEa;AACZ,WAAKxE,OAAL,CAAamD,KAAb;AACD;;;6BAEQ;AACP,WAAKqB,MAAL;AACD;;;;;;;;;;;;;;;;;;ACxKH;AACA;AACA;AACA;AACA;;IAEqBiD,+B;;;AACnB,2BAAYlE,OAAZ,EAAqB;AAAA;;AAAA;;AACnB,SAAKC,GAAL,GAAWjE,gBAAC,CAACgE,OAAO,CAACqC,EAAT,CAAZ;AACA,SAAKnC,EAAL,GAAUF,OAAO,CAACE,EAAlB;AACA,SAAKiE,gBAAL,GAAwB,IAAxB;AACA,SAAKC,gBAAL,GAAwB,IAAxB;AACA,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKC,WAAL,GAAmB,KAAnB;AAEA,SAAKnI,OAAL,GAAeH,gBAAC,CAACI,MAAD,CAAhB;AACA,SAAKmI,KAAL,GAAavI,gBAAC,CAAC,MAAD,CAAd;AACA,SAAKiI,QAAL,GAAgB,KAAKhE,GAAL,CAASzD,IAAT,CAAc,6BAAd,CAAhB;AACA,SAAKgI,QAAL,GAAgB,KAAKvE,GAAL,CAASzD,IAAT,CAAc,wBAAd,CAAhB;AACA,SAAKiI,iBAAL,GAAyB,KAAKD,QAAL,CAAcnB,MAAvC;AAEA,SAAKqB,UAAL,GAAkB,KAAKA,UAAL,CAAgBzH,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAK0H,cAAL,GAAsB,KAAKA,cAAL,CAAoB1H,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAK2H,cAAL,GAAsB,KAAKA,cAAL,CAAoB3H,IAApB,CAAyB,IAAzB,CAAtB;;AAEA,QAAI,KAAKwH,iBAAT,EAA4B;AAC1B,WAAKI,yBAAL;;AAEA,UAAI,KAAKN,KAAL,CAAWO,QAAX,CAAoB,UAApB,KAAmCtC,OAAO,CAACuC,WAAR,CAAoBC,SAApB,KAAkC,WAAzE,EAAsF;AACpF,aAAKX,MAAL,CAAYY,IAAZ,CAAiB,KAAKhF,GAAL,CAASJ,EAAT,CAAY,yBAAZ,EAAuC,KAAK8E,cAA5C,CAAjB;AACA,aAAKN,MAAL,CAAYY,IAAZ,CAAiB,KAAKhF,GAAL,CAASJ,EAAT,CAAY,yBAAZ,EAAuC,KAAK8E,cAA5C,CAAjB;AACA,aAAKN,MAAL,CAAYY,IAAZ,CAAiB,KAAKhF,GAAL,CAASJ,EAAT,CAAY,sBAAZ,EAAoC,KAAK8E,cAAzC,CAAjB;AACD,OAPyB,CAS1B;;;AACAO,sBAAO,CAAClJ,gBAAC,CAAC,gBAAD,CAAD,CAAoB4E,IAApB,CAAyB,iBAAzB,CAAD,EAA8C,YAAM;AACzD,aAAI,CAACyD,MAAL,CAAYY,IAAZ,CAAiB,KAAI,CAAChF,GAAL,CAASJ,EAAT,CAAY,oBAAZ,EAAkC,kBAAlC,EAAsD,KAAI,CAAC6E,UAA3D,CAAjB;;AACA,aAAI,CAACL,MAAL,CAAYY,IAAZ,CAAiB,KAAI,CAAChF,GAAL,CAASJ,EAAT,CAAY,oBAAZ,EAAkC,uBAAlC,EAA2D,KAAI,CAAC+E,cAAhE,CAAjB;;AACA,aAAI,CAACP,MAAL,CAAYY,IAAZ,CAAiB,KAAI,CAAChF,GAAL,CAASJ,EAAT,CAAY,oBAAZ,EAAkC,uBAAlC,EAA2D,KAAI,CAAC+E,cAAhE,CAAjB;AACD,OAJM,CAAP;AAKD;;AAED,QAAI,KAAK3E,GAAL,CAASzD,IAAT,CAAc,kBAAd,EAAkC6G,MAAtC,EAA8C;AAC5C,WAAK8B,aAAL;AACD;;AAED,SAAKC,kBAAL;AACD;AAED;;;;;;;;;;;;;gDAS4B;AAC1B5C,aAAO,CAACuC,WAAR,GAAsB,EAAtB;;AACA,UAAIM,QAAQ,CAACC,MAAT,CAAgBjC,MAApB,EAA4B;AAC1B,aAAK,IAAIkC,CAAC,GAAG,CAAR,EAAWC,QAAQ,GAAGH,QAAQ,CAACC,MAAT,CAAgBG,MAAhB,CAAuB,CAAvB,EAA0BC,KAA1B,CAAgC,GAAhC,CAA3B,EAAiEH,CAAC,GAAGC,QAAQ,CAACnC,MAA9E,EAAsFkC,CAAC,EAAvF,EAA2F;AACzF,cAAMI,SAAS,GAAGH,QAAQ,CAACD,CAAD,CAAR,CAAYG,KAAZ,CAAkB,GAAlB,CAAlB,CADyF,CAEzF;;AACA,cAAIC,SAAS,CAACtC,MAAV,GAAmB,CAAnB,IAAwBsC,SAAS,CAAC,CAAD,CAAT,KAAiB,MAA7C,EAAqD;AACnDnD,mBAAO,CAACuC,WAAR,CAAoBa,kBAAkB,CAACD,SAAS,CAAC,CAAD,CAAV,CAAtC,IAAwDC,kBAAkB,CAACD,SAAS,CAAC,CAAD,CAAV,CAA1E;AACD;AACF;AACF;AACF;;;oCAEe;AACd,UAAI;AACF,aAAKvB,gBAAL,GAAwByB,IAAI,CAACC,KAAL,CAAW,KAAK7F,GAAL,CAASzD,IAAT,CAAc,2BAAd,EAA2CuJ,IAA3C,EAAX,CAAxB;AACD,OAFD,CAEE,OAAO/B,KAAP,EAAc;AACdgC,eAAO,CAACC,IAAR,mDAAwDjC,KAAK,CAACH,OAA9D;AACD;AACF;;;mCAEcqC,K,EAAO;AACpBA,WAAK,CAACC,cAAN;AAEA,UAAM/G,UAAU,GAAG8G,KAAK,CAACE,aAAN,CAAoBC,YAApB,CAAiC,qBAAjC,IACf,gBADe,GAEf,gBAFJ;;AAIA,UAAI,KAAKlC,gBAAT,EAA2B;AACzB,aAAKA,gBAAL,CAAsBT,MAAtB;AACD;;AAED,WAAKS,gBAAL,GAAwB,IAAIpE,iCAAJ,CAAqB;AAC3CE,WAAG,EAAE,KAAKA,GADiC;AAE3CC,UAAE,EAAE,KAAKA,EAFkC;AAG3Cd,kBAAU,EAAVA,UAH2C;AAI3C3C,eAAO,EAAE,KAAKwD,GAAL,CAASzD,IAAT,CAAc,uBAAd;AAJkC,OAArB,CAAxB;AAMD;;;4CAEuB;AACtB,aAAO,eAAeP,QAAQ,CAACqK,eAAT,CAAyBC,KAA/C;AACD;;;yCAEoB;AACnB,UAAI,KAAKC,qBAAL,EAAJ,EAAkC;AAChC;AACD;;AAED,UAAMC,OAAO,GAAGzK,gBAAC,CAAC,2BAAD,EAA8B,KAAKiE,GAAnC,CAAjB;AACA,UAAMyG,WAAW,GAAG1K,gBAAC,CAAC,wCAAD,EAA2CyK,OAA3C,CAAD,CAAqDpH,IAArD,CAA0D,KAA1D,CAApB;AACA,UAAMsH,YAAY,GAAG3K,gBAAC,CAAC,+BAAD,EAAkCyK,OAAlC,CAAD,CAA4CpH,IAA5C,CAAiD,KAAjD,CAArB;AAEAoH,aAAO,CAACtH,QAAR,CAAiB,iCAAjB;AACAsH,aAAO,CAACzH,GAAR,CAAY,kBAAZ,kBAAwC0H,WAAxC;;AAEA,UAAIC,YAAJ,EAAkB;AAChB,aAAK1G,GAAL,CAASJ,EAAT,CAAY,WAAZ,EAAyB,YAAM;AAC7B4G,iBAAO,CAACzH,GAAR,CAAY,kBAAZ,kBAAwC2H,YAAxC;AACD,SAFD;AAIA,aAAK1G,GAAL,CAASJ,EAAT,CAAY,YAAZ,EAA0B,YAAM;AAC9B4G,iBAAO,CAACzH,GAAR,CAAY,kBAAZ,kBAAwC0H,WAAxC;AACD,SAFD;AAGD;AACF;AAED;;;;;;;;;kCAMc;AACZ,UAAME,MAAM,GAAG,KAAK3G,GAAL,CAAS2G,MAAT,EAAf;AACA,UAAMC,aAAa,GAAG,KAAK5G,GAAL,CAASzD,IAAT,CAAc,wBAAd,EAAwCqC,WAAxC,CAAoD,IAApD,CAAtB;AAEA,aAAO;AACLiI,kBAAU,EAAEF,MADP;AAELG,sBAAc,EAAEH,MAAM,GAAGC;AAFpB,OAAP;AAID;;;mCAEcX,K,EAAO;AACpB,UAAI,CAACc,yBAAM,CAACC,YAAP,CAAoB,GAApB,CAAL,EAA+B;AAE/B,UAAMC,cAAc,GAAGlL,gBAAC,CAACkK,KAAK,CAACE,aAAP,CAAxB;AACA,UAAMe,OAAO,GAAGnL,gBAAC,CAACkK,KAAK,CAACkB,MAAP,CAAjB;AAEA,UAAIC,eAAe,GAAG,KAAtB,CANoB,CAQpB;AACA;AACA;;AACA,UAAMC,eAAe,GAAG,KAAKrH,GAAL,CAASsH,EAAT,CAAYL,cAAZ,KACnB,KAAKjH,GAAL,CAASsH,EAAT,CAAYJ,OAAZ,CADmB,IAEnB,KAAKlH,GAAL,CAASsH,EAAT,CAAYJ,OAAO,CAACK,OAAR,CAAgB,oBAAhB,EAAsCC,KAAtC,EAAZ,CAFL;;AAIA,UAAIvB,KAAK,CAACwB,IAAN,KAAe,YAAf,IAA+BxB,KAAK,CAACwB,IAAN,KAAe,YAAlD,EAAgE;AAC9DL,uBAAe,GAAGnB,KAAK,CAACwB,IAAN,KAAe,YAAjC;AACD,OAFD,MAEO,IAAIJ,eAAJ,EAAqB;AAC1BD,uBAAe,GAAG,IAAlB;AACD;;AAED,UAAIA,eAAJ,EAAqB;AACnB,aAAKM,YAAL;AACD,OAFD,MAEO;AACL,aAAKC,YAAL;AACD;AACF;;;mCAEc;AAAA;;AACb,UAAI,KAAKtD,WAAT,EAAsB;AAAE;AAAS;;AADpB,8BAG0B,KAAKuD,WAAL,EAH1B;AAAA,UAGLf,UAHK,qBAGLA,UAHK;AAAA,UAGOC,cAHP,qBAGOA,cAHP,EAKb;;;AACA,WAAK9G,GAAL,CAASjB,GAAT,CAAa,QAAb,EAAuB8H,UAAvB;AACA,WAAK7C,QAAL,CAAcjF,GAAd,CAAkB,QAAlB,EAA4B8H,UAA5B,EAPa,CASb;;AACA,WAAK7G,GAAL,CAASW,IAAT,CAAc,aAAd,EAA6BkG,UAA7B,EAVa,CAYb;;AACA,WAAK7G,GAAL,CACG6H,QADH,CACY,MADZ,EAEGC,GAFH,CAEO,iCAFP,EAE0C,YAAM;AAC5C,cAAI,CAAC9D,QAAL,CAAcjF,GAAd,CAAkB,QAAlB,EAA4B+H,cAA5B;AACD,OAJH;AAMA9K,cAAQ,CAACkC,gBAAT,CAA0B,SAA1B,EAAqC,KAAKwG,cAA1C;AAEA,WAAKL,WAAL,GAAmB,IAAnB;AACD;;;mCAEc;AAAA;;AACb,UAAMsC,MAAM,GAAG,KAAK3G,GAAL,CAASW,IAAT,CAAc,aAAd,CAAf;AAEA;;;;;AAIA,WAAKX,GAAL,CACG6H,QADH,CACY,MADZ,EAEGC,GAFH,CAEO,oBAFP,EAE6B,YAAM;AAC/B,cAAI,CAAC9H,GAAL,CAASR,GAAT,CAAa,iCAAb;;AACA,cAAI,CAACQ,GAAL,CAASjB,GAAT,CAAa;AAAE4H,gBAAM,EAANA;AAAF,SAAb;;AACA,cAAI,CAAC3C,QAAL,CAAcjF,GAAd,CAAkB;AAAE4H,gBAAM,EAANA;AAAF,SAAlB;AACD,OANH,EAMKmB,GANL,CAMS,eANT,EAM0B,YAAM;AAC5B,cAAI,CAAC9H,GAAL,CACGR,GADH,CACO,4BADP,EAEGT,GAFH,CAEO,QAFP,EAEiB,EAFjB;;AAGA,cAAI,CAACiF,QAAL,CAAcjF,GAAd,CAAkB,QAAlB,EAA4B,EAA5B;AACD,OAXH;AAaA/C,cAAQ,CAACqC,mBAAT,CAA6B,SAA7B,EAAwC,KAAKqG,cAA7C;AAEA,WAAKL,WAAL,GAAmB,KAAnB;AACD;;;+BAEU4B,K,EAAO;AAChBA,WAAK,CAACC,cAAN;AACA,UAAM6B,UAAU,GAAGhM,gBAAC,CAACkK,KAAK,CAACE,aAAP,CAApB;AACA,UAAM6B,SAAS,GAAGD,UAAU,CAAC3I,IAAX,CAAgB,iBAAhB,CAAlB;AAEA,UAAM6I,QAAQ,GAAG,CACf;AACEC,YAAI,EAAE,IADR;AAEEC,aAAK,EAAEH;AAFT,OADe,EAKf;AACEE,YAAI,EAAE,UADR;AAEEC,aAAK,EAAE;AAFT,OALe,CAAjB;AAWA,UAAMpI,OAAO,GAAG;AACdgI,kBAAU,EAAVA,UADc;AAEd/E,gBAAQ,EAAE;AACRoF,qBAAW,EAAE,KAAKjE,gBAAL,CAAsBkE,YAD3B;AAERC,yBAAe,EAAE,KAAKnE,gBAAL,CAAsBoE;AAF/B;AAFI,OAAhB;AAQAC,wCAAe,CAAC/F,IAAhB,CAAqBwF,QAArB,EAA+BlI,OAA/B;AACD;;;6BAEQ;AACP,WAAKqE,MAAL,CAAYqE,OAAZ,CAAoB,UAAAzI,GAAG;AAAA,eAAIA,GAAG,CAACR,GAAJ,CAAQ,eAAR,CAAJ;AAAA,OAAvB;;AAEA,UAAI,KAAK0E,gBAAT,EAA2B;AACzB,aAAKA,gBAAL,CAAsBT,MAAtB;AACD;;AAEDzH,cAAQ,CAACqC,mBAAT,CAA6B,SAA7B,EAAwC,KAAKqG,cAA7C;AACD;;;;;;;;;;;;;AC7PH;AACA,MAAM,IAA0C;AAChD,IAAI,iCAAO,CAAC,OAAS,CAAC,oCAAE,OAAO;AAAA;AAAA;AAAA,oGAAC;AAChC,GAAG,MAAM,YAQN;AACH,CAAC;AACD;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,4CAA4C,GAAG,8CAA8C,GAAG,+CAA+C,GAAG,wDAAwD;AAClO;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA,KAAK;AACL;;AAEA;AACA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA,CAAC;;;;;;;;;ACpZD;AAAO,IAAMzC,yBAAyB,GAAG,SAA5BA,yBAA4B,GAAM;AAC7C,MAAI,CAAC9F,MAAM,CAACuM,GAAZ,EAAiB;AACf;AACD;;AAEDvM,QAAM,CAACuM,GAAP,CAAWC,iBAAX;AACAxM,QAAM,CAACuM,GAAP,CAAWE,iBAAX;AACAzM,QAAM,CAACuM,GAAP,CAAWG,UAAX;AACA1M,QAAM,CAACuM,GAAP,CAAWI,YAAX;AACA3M,QAAM,CAACuM,GAAP,CAAWK,UAAX;AACD,CAVM;AAYQ;AACb9G,2BAAyB,EAAzBA;AADa,CAAf,E","file":"DynamicFeaturedCollection-StaticCollection-StaticProductRecommendations-StaticSearch.bundle.js","sourcesContent":["module.exports = debounce\n\nfunction debounce (fn, delay, at_start, guarantee) {\n  var timeout\n  var args\n  var self\n\n  return function debounced () {\n    self = this\n    args = Array.prototype.slice.call(arguments)\n\n    if (timeout && (at_start || guarantee)) {\n      return\n    } else if (!at_start) {\n      clear()\n\n      timeout = setTimeout(run, delay)\n      return timeout\n    }\n\n    timeout = setTimeout(clear, delay)\n    fn.apply(self, args)\n\n    function run () {\n      clear()\n      fn.apply(self, args)\n    }\n\n    function clear () {\n      clearTimeout(timeout)\n      timeout = null\n    }\n  }\n}\n","\n  /*!\n   * shopify-asyncview v1.0.2\n   * (c) 2019 Pixel Union\n  */\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar deferred = {};\n\nvar AsyncView = function () {\n  function AsyncView() {\n    classCallCheck(this, AsyncView);\n  }\n\n  createClass(AsyncView, null, [{\n    key: 'load',\n\n    /**\n     * Load the template given by the provided URL into the provided\n     * view\n     *\n     * @param {string} url - The url to load.\n     * @param {string} view - The view to load into.\n     * @param {object} options - Config options.\n     * @param {string} options.hash - A hash of the current page content.\n     */\n    value: function load(url, view) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var data = void 0;\n      if (url in deferred) {\n        return deferred[url];\n      }\n\n      var $deferred = $.Deferred();\n\n      deferred[url] = $deferred;\n\n      if (options.hash) {\n        data = sessionStorage.getItem(url);\n\n        if (data) {\n          var deserialized = JSON.parse(data);\n\n          if (options.hash === deserialized.options.hash) {\n            delete deferred[url];\n            return $deferred.resolve(deserialized).promise();\n          }\n        }\n      }\n\n      // NOTE The $.ajax request has the cache option set to false.\n      // This is to prevent certain browsers from returning cached\n      // versions of the url we are requesting.\n      // See this PR for more info: https://github.com/pixelunion/shopify-asyncview/pull/4\n      $.ajax({\n        url: url,\n        cache: false,\n        data: 'view=' + view,\n        dataType: 'html',\n        headers: {\n          'cache-control': 'no-cache'\n        },\n        success: function success(response) {\n          var el = document.createElement('div');\n          el.innerHTML = response;\n\n          var responseOptions = {};\n          var optionsEl = el.querySelector('[data-options]');\n\n          if (optionsEl && optionsEl.innerHTML) {\n            responseOptions = JSON.parse(el.querySelector('[data-options]').innerHTML);\n          }\n\n          var htmls = el.querySelectorAll('[data-html]');\n\n          var html = {};\n\n          if (htmls.length === 1 && htmls[0].getAttribute('data-html') === '') {\n            html = htmls[0].innerHTML;\n          } else {\n            for (var i = 0; i < htmls.length; i++) {\n              html[htmls[i].getAttribute('data-html')] = htmls[i].innerHTML;\n            }\n          }\n\n          if (options.hash) {\n            try {\n              sessionStorage.setItem(url, JSON.stringify({ options: responseOptions, html: html }));\n            } catch (error) {\n              console.error(error);\n            }\n          }\n\n          delete deferred[url];\n          return $deferred.resolve({ options: responseOptions, html: html });\n        },\n        error: function error() {\n          delete deferred[url];\n          return $deferred.reject();\n        }\n\n      });\n\n      return $deferred.promise();\n    }\n  }]);\n  return AsyncView;\n}();\n\nexport default AsyncView;\n","import $ from 'jquery';\nimport debounce from 'just-debounce';\nimport VanillaModal from 'vanilla-modal';\nimport {\n  trapFocus,\n  removeTrapFocus,\n} from '@shopify/theme-a11y';\n\nexport default class Modal {\n  constructor(callbacks = {}) {\n    this.$body = $(document.body);\n    this.$window = $(window);\n\n    this.modal = null;\n    this.$modal = $('[data-modal-container]');\n    this.$modalInner = this.$modal.find('[data-modal-inner]');\n\n    this.trigger = null;\n\n    // Extend default vanilla-modal callbacks back to instantiator of Modal\n    this.defaultCallbacks = {\n      onOpen: () => {},\n      onClose: () => {},\n      onBeforeOpen: () => {},\n      onBeforeClose: () => {},\n    };\n\n    this.callbacks = $.extend({}, this.defaultCallbacks, callbacks);\n\n    this.finishedLoading = this.finishedLoading.bind(this);\n\n    this._onOpen = this._onOpen.bind(this);\n    this._onBeforeOpen = this._onBeforeOpen.bind(this);\n    this._onClose = this._onClose.bind(this);\n    this._onBeforeClose = this._onBeforeClose.bind(this);\n    this._closeEsc = this._closeEsc.bind(this);\n\n    this.position = this.position.bind(this);\n\n    this.modalOptions = {\n      loadClass: '',\n      class: 'modal-loaded',\n      onOpen: this._onOpen,\n      onClose: this._onClose,\n      onBeforeOpen: this._onBeforeOpen,\n      onBeforeClose: this._onBeforeClose,\n      transitions: false,\n    };\n  }\n\n  unload() {\n    if (!this.modal || !this.modal.isOpen) return;\n\n    this.modal.destroy();\n  }\n\n  /**\n   * Open a modal with contents from selector\n   *\n   * @param selector\n   * @param handle\n   */\n  open(selector, handle = 'general', trigger = null) {\n    this._addModalClass(handle);\n    this.modal = new VanillaModal(this.modalOptions);\n    this.modal.open(selector);\n    this.trigger = trigger;\n    window.addEventListener('keydown', this.closeEsc);\n  }\n\n  close() {\n    this.modal.close();\n    window.removeEventListener('keydown', this.closeEsc);\n  }\n\n  finishedLoading() {\n    trapFocus(this.$modal[0]);\n  }\n\n  _closeEsc(e) {\n    if (e.key === 'Escape') {\n      this.close();\n    }\n  }\n\n  isOpen() {\n    return this.modal && this.modal.isOpen;\n  }\n\n  /**\n   * Update the vertical positioning of modal\n   */\n  position() {\n    const windowHeight = window.innerHeight;\n\n    const modalHeight = this.$modalInner.outerHeight();\n    const modalPadding = parseInt(this.$modal.css('padding-top'), 10) * 2;\n\n    const offset = (windowHeight - modalPadding - modalHeight) / 2;\n    const marginTop = offset > 0 ? offset : 0;\n    this.$modalInner.css({ marginTop });\n  }\n\n  /**\n   * Add a class to the modal for individual styling\n   * @param handle\n   * @private\n   */\n  _addModalClass(handle) {\n    this.$modal.addClass(`modal--${handle}`);\n  }\n\n  /**\n   * Remove modal class based on the handle\n   * @private\n   */\n  _removeModalClass() {\n    const modalClass = this.$modal.attr('class').match(/modal--[\\w-]*\\b/);\n    if (!modalClass) {\n      return;\n    }\n\n    this.$modal.removeClass(modalClass[0]);\n  }\n\n  _onClose() {\n    this._removeModalClass();\n    this.$body\n      .removeClass('scroll-lock')\n      .removeClass('modal-visible');\n\n    this.$window.off('resize.modal');\n\n    this.$modalInner.css({ marginTop: '' });\n\n    this.callbacks.onClose();\n\n    removeTrapFocus(this.$modal[0]);\n\n    if (this.activeElement) {\n      this.activeElement.focus();\n    }\n  }\n\n  _onOpen() {\n    this.activeElement = document.activeElement;\n    this.position();\n    this.$body\n      .addClass('scroll-lock')\n      .addClass('modal-visible');\n    this.$window.on('resize.modal', debounce(() => this.position(), 16, true, true));\n\n    this.callbacks.onOpen();\n\n    trapFocus(this.$modal[0]);\n  }\n\n  _onBeforeClose() {\n    this.callbacks.onBeforeClose();\n  }\n\n  _onBeforeOpen() {\n    this.callbacks.onBeforeOpen();\n  }\n}\n","import $ from 'jquery';\nimport CurrencyConverter from 'shopify-currency-converter';\nimport AsyncView from 'shopify-asyncview';\n\nimport Modal from './Modal';\nimport ProductDetails from './ProductDetails';\nimport RichText from './RichText';\nimport { initShopifyProductReviews } from '../helpers/ProductReviews';\n\nexport default class ProductQuickshop {\n  constructor(options) {\n    this.$el = options.$el;\n    this.id = options.id;\n    this.quickShopSelector = `#shopify-section-${this.id} [data-product-quickshop]`;\n    this.$quickShop = $(this.quickShopSelector);\n    this.quickshopSpinner = this.$quickShop[0].querySelector('.quickshop-spinner');\n    this.modalClass = options.modalClass;\n    this.loaded = false;\n    this.richText = null;\n    this.productDetails = null;\n    this.trigger = options.trigger;\n    this.isOpen = false;\n    this.openingAddToCart = false;\n\n    this.url = this.$el.data('product-quickshop-url');\n    this.settingsSha256 = this.$el.data('quickshop-settings-sha256');\n    this.productSha256 = this.$el.data('quickshop-product-sha256');\n\n    this.modalCallbacks = {\n      onOpen: this._open.bind(this),\n      onClose: this._close.bind(this),\n    };\n\n    this.atcCallbacks = {\n      onInit: this._onATCInit.bind(this),\n      onError: this._onATCError.bind(this),\n      onSuccess: this._onATCSuccess.bind(this),\n      onClose: this._onATCClose.bind(this),\n    };\n\n    this._initialize();\n  }\n\n  _initialize() {\n    this.modal = new Modal(this.modalCallbacks);\n    this.modal.open(\n      this.quickShopSelector,\n      this.modalClass,\n      this.trigger,\n    );\n    this.isOpen = true;\n\n    const $quickShopModalContent = this.modal.$modalInner.find('[data-modal-content]');\n\n    AsyncView.load(\n      this.url,\n      '_quickshop',\n      { hash: `${this.productSha256}${this.settingsSha256}` },\n    ).done(({ html, options }) => {\n      // Stop populating the modal if it was closed before the content was loaded\n      if (!this.isOpen) { return; }\n\n      $quickShopModalContent.html(html.content);\n\n      initShopifyProductReviews();\n\n      $quickShopModalContent\n        .find('.money')\n        .each((index, el) => CurrencyConverter.update(el));\n\n      if (window.Shopify && Shopify.PaymentButton) {\n        Shopify.PaymentButton.init();\n      }\n\n      this.$message = $quickShopModalContent.find('[data-product-quickshop-message]');\n      this.$formArea = $quickShopModalContent.find('[data-product-form-area]');\n      this.$gallery = $quickShopModalContent.find('[data-product-gallery]');\n      this.$details = $quickShopModalContent.find('[data-product-details]');\n      this.$description = $quickShopModalContent.find('[data-product-description]');\n      this.context = options.context;\n      this.settings = options.settings;\n      this.product = options.product;\n\n      this._onQuickshopLoaded();\n    }).fail();\n  }\n\n  _onQuickshopLoaded() {\n    if (this.loaded) {\n      return;\n    }\n\n    if (this.$description && this.$description.length) {\n      this.richText = new RichText(this.$description);\n    }\n\n    const options = {\n      $formArea: this.$formArea,\n      $gallery: this.$gallery,\n      $details: this.$details,\n      atcCallbacks: this.atcCallbacks,\n      context: this.context,\n      settings: this.settings,\n      product: this.product,\n      useHistory: false,\n      isQuickshop: true,\n    };\n\n    this.modal.position();\n    this.modal.finishedLoading();\n    this.loaded = true;\n    this.productDetails = new ProductDetails(options);\n  }\n\n  _open() {\n    // do nothing\n  }\n\n  _close() {\n    if (this.productDetails) {\n      this.productDetails.unload();\n    }\n\n    if (this.richText) {\n      this.richText.unload();\n    }\n\n    if (!this.openingAddToCart) {\n      this.trigger.focus();\n    }\n\n    this.loaded = false;\n    this.isOpen = false;\n    this.$quickShop.empty();\n    this.$quickShop.html(this.quickshopSpinner);\n    this._toggleMessage('', false);\n    this.modal.unload();\n  }\n\n  _toggleMessage(message, isVisible) {\n    if (this.$message) {\n      this.$message\n        .html(message)\n        .toggleClass('visible', isVisible);\n    }\n  }\n\n  _onATCInit() {\n    this.openingAddToCart = true;\n    this.$message.removeClass('visible');\n  }\n\n  _onATCError(error) {\n    const $content = $(`<div class=\"product-message--error\" tabindex=\"-1\">${error}</div>`);\n    this._toggleMessage($content, true);\n    $content.focus();\n  }\n\n  _onATCSuccess() {\n    this._close();\n  }\n\n  _onATCClose() {\n    this.trigger.focus();\n  }\n\n  unload() {\n    this._close();\n  }\n}\n","import $ from 'jquery';\nimport $script from 'scriptjs';\nimport layout from '../Layout';\nimport ProductQuickshop from './ProductQuickshop';\nimport AddToCartFlyout from './AddToCartFlyout';\n\nexport default class ProductGridItem {\n  constructor(options) {\n    this.$el = $(options.el);\n    this.id = options.id;\n    this.productQuickshop = null;\n    this.quickBuySettings = null;\n    this.events = [];\n    this.actionsOpen = false;\n\n    this.$window = $(window);\n    this.$html = $('html');\n    this.$content = this.$el.find('[data-product-item-content]');\n    this.$actions = this.$el.find('[data-product-actions]');\n    this.hasProductActions = this.$actions.length;\n\n    this._addToCart = this._addToCart.bind(this);\n    this._actionsToggle = this._actionsToggle.bind(this);\n    this._openQuickShop = this._openQuickShop.bind(this);\n\n    if (this.hasProductActions) {\n      this._setSortByQueryParameters();\n\n      if (this.$html.hasClass('no-touch') && Shopify.queryParams.grid_list !== 'list-view') {\n        this.events.push(this.$el.on('mouseenter.product-item', this._actionsToggle));\n        this.events.push(this.$el.on('mouseleave.product-item', this._actionsToggle));\n        this.events.push(this.$el.on('focusin.product-item', this._actionsToggle));\n      }\n\n      // $scripts checks existence of script in header before attempting to inject\n      $script($('[data-scripts]').data('shopify-api-url'), () => {\n        this.events.push(this.$el.on('click.product-item', '[data-quick-buy]', this._addToCart));\n        this.events.push(this.$el.on('click.product-item', '[data-quickshop-slim]', this._openQuickShop));\n        this.events.push(this.$el.on('click.product-item', '[data-quickshop-full]', this._openQuickShop));\n      });\n    }\n\n    if (this.$el.find('[data-quick-buy]').length) {\n      this._initQuickBuy();\n    }\n\n    this._objectFitPolyfill();\n  }\n\n  /**\n   * Make Shopify aware of releavent collection search info\n   *  - tag\n   *  - vendor\n   *  - pagination\n   *  - sorting criteria\n   *\n   * @private\n   */\n  _setSortByQueryParameters() {\n    Shopify.queryParams = {};\n    if (location.search.length) {\n      for (let i = 0, aCouples = location.search.substr(1).split('&'); i < aCouples.length; i++) {\n        const aKeyValue = aCouples[i].split('=');\n        // Reset the page number when we apply (i.e. don't add it to params)\n        if (aKeyValue.length > 1 && aKeyValue[0] !== 'page') {\n          Shopify.queryParams[decodeURIComponent(aKeyValue[0])] = decodeURIComponent(aKeyValue[1]);\n        }\n      }\n    }\n  }\n\n  _initQuickBuy() {\n    try {\n      this.quickBuySettings = JSON.parse(this.$el.find('[data-quick-buy-settings]').text());\n    } catch (error) {\n      console.warn(`Quick buy: invalid QuickBuy data found. ${error.message}`);\n    }\n  }\n\n  _openQuickShop(event) {\n    event.preventDefault();\n\n    const modalClass = event.currentTarget.hasAttribute('data-quickshop-full')\n      ? 'quickshop-full'\n      : 'quickshop-slim';\n\n    if (this.productQuickshop) {\n      this.productQuickshop.unload();\n    }\n\n    this.productQuickshop = new ProductQuickshop({\n      $el: this.$el,\n      id: this.id,\n      modalClass,\n      trigger: this.$el.find('.productitem--title a'),\n    });\n  }\n\n  _isObjectFitAvailable() {\n    return 'objectFit' in document.documentElement.style;\n  }\n\n  _objectFitPolyfill() {\n    if (this._isObjectFitAvailable()) {\n      return;\n    }\n\n    const $figure = $('[data-product-item-image]', this.$el);\n    const featuredSrc = $('img:not(.productitem--image-alternate)', $figure).attr('src');\n    const alternateSrc = $('.productitem--image-alternate', $figure).attr('src');\n\n    $figure.addClass('product-item-image-no-objectfit');\n    $figure.css('background-image', `url(\"${featuredSrc}\")`);\n\n    if (alternateSrc) {\n      this.$el.on('mouseover', () => {\n        $figure.css('background-image', `url(\"${alternateSrc}\")`);\n      });\n\n      this.$el.on('mouseleave', () => {\n        $figure.css('background-image', `url(\"${featuredSrc}\")`);\n      });\n    }\n  }\n\n  /**\n   * Get height of element, and combined height of element + actions\n   *\n   * @returns {{heightBase, heightExpanded: *}}\n   * @private\n   */\n  _getHeights() {\n    const height = this.$el.height();\n    const actionsHeight = this.$el.find('[data-product-actions]').outerHeight(true);\n\n    return {\n      heightBase: height,\n      heightExpanded: height + actionsHeight,\n    };\n  }\n\n  _actionsToggle(event) {\n    if (!layout.isBreakpoint('L')) return;\n\n    const $currentTarget = $(event.currentTarget);\n    const $target = $(event.target);\n\n    let openProductItem = false;\n\n    // This function gets called on the element as well as the document focusin, so we want to\n    // be extra careful that we are inside the product card in question. We want the product card\n    // to close if another product card has received focus.\n    const productHasFocus = this.$el.is($currentTarget)\n      || this.$el.is($target)\n      || this.$el.is($target.parents('.productgrid--item').first());\n\n    if (event.type === 'mouseenter' || event.type === 'mouseleave') {\n      openProductItem = event.type === 'mouseenter';\n    } else if (productHasFocus) {\n      openProductItem = true;\n    }\n\n    if (openProductItem) {\n      this._showActions();\n    } else {\n      this._hideActions();\n    }\n  }\n\n  _showActions() {\n    if (this.actionsOpen) { return; }\n\n    const { heightBase, heightExpanded } = this._getHeights();\n\n    // Lock heights to prevent jumping\n    this.$el.css('height', heightBase);\n    this.$content.css('height', heightBase);\n\n    // Store height for when hovering out\n    this.$el.data('base-height', heightBase);\n\n    // Start animation, and transition height to expanded height\n    this.$el\n      .revealer('show')\n      .one('revealer-animating.product-item', () => {\n        this.$content.css('height', heightExpanded);\n      });\n\n    document.addEventListener('focusin', this._actionsToggle);\n\n    this.actionsOpen = true;\n  }\n\n  _hideActions() {\n    const height = this.$el.data('base-height');\n\n    /*\n      - Transition buttons up, using base height for animation\n      - Remove heights after animation is complete in case of resize\n     */\n    this.$el\n      .revealer('hide')\n      .one('revealer-animating', () => {\n        this.$el.off('revealer-animating.product-item');\n        this.$el.css({ height });\n        this.$content.css({ height });\n      }).one('revealer-hide', () => {\n        this.$el\n          .off('revealer-hide.product-item')\n          .css('height', '');\n        this.$content.css('height', '');\n      });\n\n    document.removeEventListener('focusin', this._actionsToggle);\n\n    this.actionsOpen = false;\n  }\n\n  _addToCart(event) {\n    event.preventDefault();\n    const $atcButton = $(event.currentTarget);\n    const variantID = $atcButton.attr('data-variant-id');\n\n    const formData = [\n      {\n        name: 'id',\n        value: variantID,\n      },\n      {\n        name: 'quantity',\n        value: 1,\n      },\n    ];\n\n    const options = {\n      $atcButton,\n      settings: {\n        moneyFormat: this.quickBuySettings.money_format,\n        cartRedirection: this.quickBuySettings.cart_redirection,\n      },\n    };\n\n    AddToCartFlyout.init(formData, options);\n  }\n\n  unload() {\n    this.events.forEach($el => $el.off('.product-item'));\n\n    if (this.productQuickshop) {\n      this.productQuickshop.unload();\n    }\n\n    document.removeEventListener('focusin', this._actionsToggle);\n  }\n}\n","(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(['exports'], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.VanillaModal = mod.exports;\n  }\n})(this, function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  var defaults = {\n    modal: '.modal',\n    modalInner: '.modal-inner',\n    modalContent: '.modal-content',\n    open: '[data-modal-open]',\n    close: '[data-modal-close]',\n    page: 'body',\n    class: 'modal-visible',\n    loadClass: 'vanilla-modal',\n    clickOutside: true,\n    closeKeys: [27],\n    transitions: true,\n    transitionEnd: null,\n    onBeforeOpen: null,\n    onBeforeClose: null,\n    onOpen: null,\n    onClose: null\n  };\n\n  function throwError(message) {\n    // eslint-disable-next-line no-console\n    console.error('VanillaModal: ' + message);\n  }\n\n  function find(arr, callback) {\n    return function (key) {\n      var filteredArray = arr.filter(callback);\n      return filteredArray[0] ? filteredArray[0][key] : undefined;\n    };\n  }\n\n  function transitionEndVendorSniff() {\n    var el = document.createElement('div');\n    var transitions = [{ key: 'transition', value: 'transitionend' }, { key: 'OTransition', value: 'otransitionend' }, { key: 'MozTransition', value: 'transitionend' }, { key: 'WebkitTransition', value: 'webkitTransitionEnd' }];\n    return find(transitions, function (_ref) {\n      var key = _ref.key;\n      return typeof el.style[key] !== 'undefined';\n    })('value');\n  }\n\n  function isPopulatedArray(arr) {\n    return Object.prototype.toString.call(arr) === '[object Array]' && arr.length;\n  }\n\n  function getNode(selector, parent) {\n    var targetNode = parent || document;\n    var node = targetNode.querySelector(selector);\n    if (!node) {\n      throwError(selector + ' not found in document.');\n    }\n    return node;\n  }\n\n  function addClass(el, className) {\n    if (!(el instanceof HTMLElement)) {\n      throwError('Not a valid HTML element.');\n    }\n    el.setAttribute('class', el.className.split(' ').filter(function (cn) {\n      return cn !== className;\n    }).concat(className).join(' '));\n  }\n\n  function removeClass(el, className) {\n    if (!(el instanceof HTMLElement)) {\n      throwError('Not a valid HTML element.');\n    }\n    el.setAttribute('class', el.className.split(' ').filter(function (cn) {\n      return cn !== className;\n    }).join(' '));\n  }\n\n  function getElementContext(e) {\n    if (e && typeof e.hash === 'string') {\n      return document.querySelector(e.hash);\n    } else if (typeof e === 'string') {\n      return document.querySelector(e);\n    }\n    throwError('No selector supplied to open()');\n    return null;\n  }\n\n  function applyUserSettings(settings) {\n    return _extends({}, defaults, settings, {\n      transitionEnd: transitionEndVendorSniff()\n    });\n  }\n\n  function matches(e, selector) {\n    var allMatches = (e.target.document || e.target.ownerDocument).querySelectorAll(selector);\n    for (var i = 0; i < allMatches.length; i += 1) {\n      var node = e.target;\n      while (node && node !== document.body) {\n        if (node === allMatches[i]) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n    }\n    return null;\n  }\n\n  var VanillaModal = function () {\n    function VanillaModal(settings) {\n      _classCallCheck(this, VanillaModal);\n\n      this.isOpen = false;\n      this.current = null;\n      this.isListening = false;\n\n      this.settings = applyUserSettings(settings);\n      this.dom = this.getDomNodes();\n\n      this.open = this.open.bind(this);\n      this.close = this.close.bind(this);\n      this.closeKeyHandler = this.closeKeyHandler.bind(this);\n      this.outsideClickHandler = this.outsideClickHandler.bind(this);\n      this.delegateOpen = this.delegateOpen.bind(this);\n      this.delegateClose = this.delegateClose.bind(this);\n      this.listen = this.listen.bind(this);\n      this.destroy = this.destroy.bind(this);\n\n      this.addLoadedCssClass();\n      this.listen();\n    }\n\n    _createClass(VanillaModal, [{\n      key: 'getDomNodes',\n      value: function getDomNodes() {\n        var _settings = this.settings,\n            modal = _settings.modal,\n            page = _settings.page,\n            modalInner = _settings.modalInner,\n            modalContent = _settings.modalContent;\n\n        return {\n          modal: getNode(modal),\n          page: getNode(page),\n          modalInner: getNode(modalInner, getNode(modal)),\n          modalContent: getNode(modalContent, getNode(modal))\n        };\n      }\n    }, {\n      key: 'addLoadedCssClass',\n      value: function addLoadedCssClass() {\n        addClass(this.dom.page, this.settings.loadClass);\n      }\n    }, {\n      key: 'setOpenId',\n      value: function setOpenId(id) {\n        var page = this.dom.page;\n\n        page.setAttribute('data-current-modal', id || 'anonymous');\n      }\n    }, {\n      key: 'removeOpenId',\n      value: function removeOpenId() {\n        var page = this.dom.page;\n\n        page.removeAttribute('data-current-modal');\n      }\n    }, {\n      key: 'open',\n      value: function open(allMatches, e) {\n        var page = this.dom.page;\n        var _settings2 = this.settings,\n            onBeforeOpen = _settings2.onBeforeOpen,\n            onOpen = _settings2.onOpen;\n\n        if (!(this.current instanceof HTMLElement === false)) {\n          throwError('VanillaModal target must exist on page.');\n          return;\n        }\n        this.releaseNode(this.current);\n        this.current = getElementContext(allMatches);\n        if (typeof onBeforeOpen === 'function') {\n          onBeforeOpen.call(this, e);\n        }\n        this.captureNode(this.current);\n        addClass(page, this.settings.class);\n        this.setOpenId(this.current.id);\n        this.isOpen = true;\n        if (typeof onOpen === 'function') {\n          onOpen.call(this, e);\n        }\n      }\n    }, {\n      key: 'detectTransition',\n      value: function detectTransition() {\n        var modal = this.dom.modal;\n\n        var css = window.getComputedStyle(modal, null);\n        return Boolean(['transitionDuration', 'oTransitionDuration', 'MozTransitionDuration', 'webkitTransitionDuration'].filter(function (i) {\n          return typeof css[i] === 'string' && parseFloat(css[i]) > 0;\n        }).length);\n      }\n    }, {\n      key: 'close',\n      value: function close(e) {\n        var _settings3 = this.settings,\n            transitions = _settings3.transitions,\n            transitionEnd = _settings3.transitionEnd,\n            onBeforeClose = _settings3.onBeforeClose;\n\n        var hasTransition = this.detectTransition();\n        if (this.isOpen) {\n          this.isOpen = false;\n          if (typeof onBeforeClose === 'function') {\n            onBeforeClose.call(this, e);\n          }\n          removeClass(this.dom.page, this.settings.class);\n          if (transitions && transitionEnd && hasTransition) {\n            this.closeModalWithTransition(e);\n          } else {\n            this.closeModal(e);\n          }\n        }\n      }\n    }, {\n      key: 'closeModal',\n      value: function closeModal(e) {\n        var onClose = this.settings.onClose;\n\n        this.removeOpenId(this.dom.page);\n        this.releaseNode(this.current);\n        this.isOpen = false;\n        this.current = null;\n        if (typeof onClose === 'function') {\n          onClose.call(this, e);\n        }\n      }\n    }, {\n      key: 'closeModalWithTransition',\n      value: function closeModalWithTransition(e) {\n        var _this = this;\n\n        var modal = this.dom.modal;\n        var transitionEnd = this.settings.transitionEnd;\n\n        var closeTransitionHandler = function closeTransitionHandler() {\n          modal.removeEventListener(transitionEnd, closeTransitionHandler);\n          _this.closeModal(e);\n        };\n        modal.addEventListener(transitionEnd, closeTransitionHandler);\n      }\n    }, {\n      key: 'captureNode',\n      value: function captureNode(node) {\n        var modalContent = this.dom.modalContent;\n\n        while (node.childNodes.length) {\n          modalContent.appendChild(node.childNodes[0]);\n        }\n      }\n    }, {\n      key: 'releaseNode',\n      value: function releaseNode(node) {\n        var modalContent = this.dom.modalContent;\n\n        while (modalContent.childNodes.length) {\n          node.appendChild(modalContent.childNodes[0]);\n        }\n      }\n    }, {\n      key: 'closeKeyHandler',\n      value: function closeKeyHandler(e) {\n        var closeKeys = this.settings.closeKeys;\n\n        if (isPopulatedArray(closeKeys) && closeKeys.indexOf(e.which) > -1 && this.isOpen === true) {\n          e.preventDefault();\n          this.close(e);\n        }\n      }\n    }, {\n      key: 'outsideClickHandler',\n      value: function outsideClickHandler(e) {\n        var clickOutside = this.settings.clickOutside;\n        var modalInner = this.dom.modalInner;\n\n        if (clickOutside) {\n          var node = e.target;\n          while (node && node !== document.body) {\n            if (node === modalInner) {\n              return;\n            }\n            node = node.parentNode;\n          }\n          this.close(e);\n        }\n      }\n    }, {\n      key: 'delegateOpen',\n      value: function delegateOpen(e) {\n        var open = this.settings.open;\n\n        var matchedNode = matches(e, open);\n        if (matchedNode) {\n          e.preventDefault();\n          this.open(matchedNode, e);\n        }\n      }\n    }, {\n      key: 'delegateClose',\n      value: function delegateClose(e) {\n        var close = this.settings.close;\n\n        if (matches(e, close)) {\n          e.preventDefault();\n          this.close(e);\n        }\n      }\n    }, {\n      key: 'listen',\n      value: function listen() {\n        var modal = this.dom.modal;\n\n        if (!this.isListening) {\n          modal.addEventListener('click', this.outsideClickHandler, false);\n          document.addEventListener('keydown', this.closeKeyHandler, false);\n          document.addEventListener('click', this.delegateOpen, false);\n          document.addEventListener('click', this.delegateClose, false);\n          this.isListening = true;\n        } else {\n          throwError('Event listeners already applied.');\n        }\n      }\n    }, {\n      key: 'destroy',\n      value: function destroy() {\n        var modal = this.dom.modal;\n\n        if (this.isListening) {\n          this.close();\n          modal.removeEventListener('click', this.outsideClickHandler);\n          document.removeEventListener('keydown', this.closeKeyHandler);\n          document.removeEventListener('click', this.delegateOpen);\n          document.removeEventListener('click', this.delegateClose);\n          this.isListening = false;\n        } else {\n          throwError('Event listeners already removed.');\n        }\n      }\n    }]);\n\n    return VanillaModal;\n  }();\n\n  exports.default = VanillaModal;\n});\n","export const initShopifyProductReviews = () => {\n  if (!window.SPR) {\n    return;\n  }\n\n  window.SPR.registerCallbacks();\n  window.SPR.initRatingHandler();\n  window.SPR.initDomEls();\n  window.SPR.loadProducts();\n  window.SPR.loadBadges();\n};\n\nexport default {\n  initShopifyProductReviews,\n};\n"],"sourceRoot":""}